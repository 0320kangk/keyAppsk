<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      th:replace="~{/fragment/layoutFile :: layout(~{::body}, 'home')}">

<head>
</head>

<body>
<div class="container py-4 py-lg-5 my-4 sign-header">
    <div class="row justify-content-center">
        <div class="col-md-6" style="width: 350px">
            <div class="card border-0 shadow">
                <div class="card-body">
                    <h2 class="h4 mb-1">로그인</h2>

                    <hr>

                    <form class="needs-validation pt-2" action="/login" method="post" autocomplete="off" novalidate=""><input type="hidden" name="_csrf" value="b02f6a88-bc1c-450f-8a84-dd240175f5dc">
                        <!--                            <input type ="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>-->


                        <div class="input-group mb-3"><i class=" position-absolute top-50 translate-middle-y text-muted fs-base ms-3"></i>
                            <input class="form-control rounded-start" name="loginId" id="username" type="text" placeholder="Id을 입력하세요" autofocus="" required="" value="">
                        </div>

                        <div class="input-group mb-3"><i class="position-absolute top-50 translate-middle-y text-muted fs-base ms-3"></i>
                            <div class="password-toggle w-100">
                                <input class="form-control" name="password" type="password" id="password" placeholder="비밀번호" required="" value="">

                            </div>
                        </div>

                        <div class=" row text-end m-auto pt-2 pb-2 w-100">
                            <button class="btn btn-primary" type="submit"><i class="ci-sign-in me-2 ms-n21"></i>Login
                                In
                            </button>
                        </div>
                        <hr class="my-4">
                        <strong><a href="/members/add">회원가입</a></strong>

                    </form>
                    <!-- form으로 하지 않고 oath로만 가능하게 하기 -->
                    <div class="row m-auto pt-2 w-100">
                        <a href="/oauth2/authorization/google" class="btn btn-success active" role="button">Google Login</a>
                        <!--네이버 로그인 추가-->
                        <a href="/oauth2/authorization/naver" class="btn btn-secondary active" role="button">Naver Login</a>
                        <!--카카오 로그인 추가-->
                        <a href="/oauth2/authorization/kakao" class="btn btn-third active" role="button">Kakao Login</a>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
    <script>
        window.addEventListener('load', () => {
            const forms = document.getElementsByClassName('validation-form');
            Array.prototype.filter.call(forms, (form) => {
                form.addEventListener('submit', function (event) {
                    if (form.checkValidity() === false) {
                        event.preventDefault();
                        event.stopPropagation();
                    }

                    form.classList.add('was-validated');
                }, false);
            });
        }, false);
    </script>
</body>

</html>
